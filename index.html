<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‡æ…¶è±ªè¯ä¹æ—¥éŠ</title>
    <style>
        :root { --primary: #FF4500; --bg: #f8f9fa; --card-bg: #ffffff; --text: #333; }
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "Microsoft JhengHei", sans-serif; background-color: var(--bg); color: var(--text); padding-bottom: 80px; }
        
        /* é ­éƒ¨è¨­è¨ˆ */
        .header { background: linear-gradient(135deg, #FF4500, #ff8c00); color: white; padding: 25px 20px 20px; border-radius: 0 0 25px 25px; box-shadow: 0 4px 15px rgba(255, 69, 0, 0.3); position: sticky; top: 0; z-index: 100; transition: all 0.3s ease; }
        .title { font-size: 26px; font-weight: 800; margin-bottom: 5px; text-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .subtitle { font-size: 14px; opacity: 0.95; display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .flight-badge { background: rgba(255,255,255,0.25); padding: 4px 8px; border-radius: 6px; font-size: 12px; backdrop-filter: blur(4px); }

        /* å¤©æ°£å°å·¥å…· (æ–°åŠŸèƒ½) */
        .weather-widget { background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); border-radius: 12px; padding: 10px 15px; display: flex; align-items: center; justify-content: space-between; font-size: 14px; border: 1px solid rgba(255,255,255,0.3); animation: slideDown 0.5s ease; }
        .weather-info { display: flex; align-items: center; gap: 8px; }
        .weather-temp { font-size: 20px; font-weight: bold; }
        .weather-loc { font-size: 13px; opacity: 0.9; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        /* æ—¥æœŸæ»‘å‹•æ¢ */
        .tabs-container { overflow-x: auto; white-space: nowrap; padding: 15px 20px; -webkit-overflow-scrolling: touch; scrollbar-width: none; margin-top: 5px; }
        .tabs-container::-webkit-scrollbar { display: none; }
        .tab { display: inline-block; width: 60px; height: 65px; margin-right: 12px; background: white; border-radius: 14px; text-align: center; cursor: pointer; transition: all 0.2s; box-shadow: 0 4px 6px rgba(0,0,0,0.04); color: #888; border: 2px solid transparent; position: relative; overflow: hidden; }
        .tab.active { background: #FF4500; color: white; border-color: #FF4500; transform: translateY(-2px); box-shadow: 0 6px 12px rgba(255, 69, 0, 0.25); }
        .tab-date { font-size: 12px; margin-top: 10px; display: block; font-weight: bold; }
        .tab-day { font-size: 18px; font-weight: 900; display: block; line-height: 1.2; }

        /* å…§å®¹å€å¡Š */
        .content { display: none; padding: 0 20px; animation: fadeIn 0.4s ease; }
        .content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* å¡ç‰‡è¨­è¨ˆ */
        .card { background: var(--card-bg); border-radius: 18px; padding: 18px; margin-bottom: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.03); border-left: 6px solid transparent; position: relative; transition: transform 0.2s; }
        .card:active { transform: scale(0.98); }
        .card.spot { border-left-color: #FF4500; }
        .card.hotel { border-left-color: #4a5bf7; }
        .card.meal { border-left-color: #28a745; }
        .card.transport { border-left-color: #6c757d; }

        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .tag { font-size: 11px; padding: 4px 8px; border-radius: 8px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
        .tag.spot { background: #fff5f0; color: #FF4500; }
        .tag.hotel { background: #edf2ff; color: #4a5bf7; }
        .tag.meal { background: #e6f9ea; color: #28a745; }
        .tag.transport { background: #f8f9fa; color: #6c757d; }
        
        .name { font-size: 18px; font-weight: 700; margin-bottom: 6px; color: #222; }
        .desc { font-size: 14px; color: #666; line-height: 1.5; margin-bottom: 12px; }
        
        /* æŒ‰éˆ• */
        .btn-map { display: inline-flex; align-items: center; background: #f1f3f5; color: #495057; padding: 8px 14px; border-radius: 20px; text-decoration: none; font-size: 13px; font-weight: 600; transition: 0.2s; }
        .btn-map:hover { background: #e9ecef; color: #FF4500; }

        /* åº•éƒ¨æç¤º */
        .footer-note { text-align: center; font-size: 12px; color: #aaa; margin-top: 30px; padding-bottom: 20px; }
    </style>
</head>
<body>

<div class="header">
    <div class="title">ğŸŒ¶ï¸ é‡æ…¶æ­¦éš†ä¸‰å³½ä¹æ—¥éŠ</div>
    <div class="subtitle">
        <span>2025.12.20 - 12.28</span>
        <span class="flight-badge">åœ‹èˆª CA410</span>
    </div>
    
    <div class="weather-widget" id="weatherWidget">
        <div class="weather-info">
            <span id="weatherIcon">ğŸŒ¤ï¸</span>
            <span class="weather-temp" id="weatherTemp">--Â°C</span>
        </div>
        <div class="weather-loc">
            <span id="weatherLocName">æ­£åœ¨è¼‰å…¥ç•¶åœ°å¤©æ°£...</span>
        </div>
    </div>
</div>

<div class="tabs-container">
    <div class="tab active" onclick="switchTab('d1', this, 'chongqing')"><span class="tab-date">12/20</span><span class="tab-day">D1</span></div>
    <div class="tab" onclick="switchTab('d2', this, 'wulong')"><span class="tab-date">12/21</span><span class="tab-day">D2</span></div>
    <div class="tab" onclick="switchTab('d3', this, 'pengshui')"><span class="tab-date">12/22</span><span class="tab-day">D3</span></div>
    <div class="tab" onclick="switchTab('d4', this, 'chongqing')"><span class="tab-date">12/23</span><span class="tab-day">D4</span></div>
    <div class="tab" onclick="switchTab('d5', this, 'fengjie')"><span class="tab-date">12/24</span><span class="tab-day">D5</span></div>
    <div class="tab" onclick="switchTab('d6', this, 'wushan')"><span class="tab-date">12/25</span><span class="tab-day">D6</span></div>
    <div class="tab" onclick="switchTab('d7', this, 'chongqing')"><span class="tab-date">12/26</span><span class="tab-day">D7</span></div>
    <div class="tab" onclick="switchTab('d8', this, 'chongqing')"><span class="tab-date">12/27</span><span class="tab-day">D8</span></div>
    <div class="tab" onclick="switchTab('d9', this, 'chongqing')"><span class="tab-date">12/28</span><span class="tab-day">D9</span></div>
</div>

<div id="d1" class="content active">
    <div class="card transport">
        <div class="card-header"><span class="tag transport">èˆªç­</span></div>
        <div class="name">ğŸ›« æ¡ƒåœ’ â” é‡æ…¶</div>
        <div class="desc">èˆªç­ï¼šCA-410 (19:20 - 23:05)<br>æ™šé¤ï¼šæ©Ÿä¸Šé¤é£Ÿ + è¿è³“é¤ç›’</div>
    </div>
    <div class="card hotel">
        <div class="card-header"><span class="tag hotel">ä½å®¿</span></div>
        <div class="name">é‡æ…¶ä¼Šå‡¡é…’åº— æˆ– éº—ç¢©è²å¤§é…’åº—</div>
        <a href="https://www.google.com/maps/search/?api=1&query=é‡æ…¶ä¼Šå‡¡é…’åº—" target="_blank" class="btn-map">ğŸ“ å°èˆªå»é£¯åº—</a>
    </div>
</div>

<div id="d2" class="content">
    <div class="card spot">
        <div class="card-header"><span class="tag spot">äº®é»</span></div>
        <div class="name">â›°ï¸ å¤©ç”Ÿä¸‰æ©‹ (å¤©å‘)</div>
        <div class="desc">è®Šå½¢é‡‘å‰›4ã€é»ƒé‡‘ç”²å–æ™¯åœ°ã€‚<br>å«ç’°ä¿è»Šã€é›»æ¢¯ã€é›»ç“¶è»Šã€‚</div>
        <a href="https://www.google.com/maps/search/?api=1&query=æ­¦éš†å¤©ç”Ÿä¸‰æ©‹" target="_blank" class="btn-map">ğŸ“ åœ°åœ–å°èˆª</a>
    </div>
    <div class="card spot">
        <div class="card-header"><span class="tag spot">äº®é»</span></div>
        <div class="name">ğŸŒŠ é¾æ°´å³½åœ°ç¸«</div>
        <div class="desc">è¢«ç¨±ç‚ºã€Œä¸€ç·šå¤©ã€çš„åœ°è³ªå¥‡è§€ï¼Œè§€è³ç€‘å¸ƒèˆ‡æµæ°´ã€‚</div>
        <a href="https://www.google.com/maps/search/?api=1&query=é¾æ°´å³½åœ°ç¸«" target="_blank" class="btn-map">ğŸ“ åœ°åœ–å°èˆª</a>
    </div>
    <div class="card meal">
        <div class="name">ğŸ½ï¸ ä»Šæ—¥é¤é£Ÿ</div>
        <div class="desc">åˆé¤ï¼šä¸‰è‘‰åœŸé› (50RMB)<br>æ™šé¤ï¼šæ–¹ä¾¿é€›è¡—ï¼Œæ•¬è«‹è‡ªç†</div>
    </div>
    <div class="card hotel">
        <div class="name">ğŸ¨ æ­¦éš†ä¾é›²åº¦å‡é…’åº— æˆ–åŒç´š</div>
    </div>
</div>

<div id="d3" class="content">
    <div class="card spot">
        <div class="card-header"><span class="tag spot">æ™¯é»</span></div>
        <div class="name">ğŸŒ² ä»™å¥³å±±åœ‹å®¶æ£®æ—å…¬åœ’</div>
        <div class="desc">æ±æ–¹ç‘å£«ï¼Œæ­ä¹˜å°ç«è»ŠéŠè¦½é«˜å±±è‰åŸã€‚</div>
        <a href="https://www.google.com/maps/search/?api=1&query=ä»™å¥³å±±åœ‹å®¶æ£®æ—å…¬åœ’" target="_blank" class="btn-map">ğŸ“ åœ°åœ–å°èˆª</a>
    </div>
    <div class="card spot">
        <div class="card-header"><span class="tag spot">æ™¯é»</span></div>
        <div class="name">ğŸ¦‡ èŠ™è“‰æ´é¢¨æ™¯å€</div>
        <div class="desc">ä¸–ç•Œä¸‰å¤§æ´ç©´ä¹‹ä¸€ï¼Œå«å¾€è¿”ç´¢é“ã€‚</div>
    </div>
    <div class="card spot">
        <div class="card-header"><span class="tag spot">å¤é®</span></div>
        <div class="name">ğŸ® é¾”ç˜å¤é®</div>
        <div class="desc">çƒæ±Ÿç•«å»Šæ ¸å¿ƒæ™¯å€ï¼Œé‡æ…¶ç¬¬ä¸€æ­·å²æ–‡åŒ–åé®ã€‚</div>
    </div>
    <div class="card hotel">
        <div class="name">ğŸ¨ é¾”ç˜ä»ç¾©å¤§é…’åº— æˆ–åŒç´š</div>
    </div>
</div>

<div id="d4" class="content">
    <div class="card spot">
        <div class="name">ğŸš¢ çƒæ±Ÿç•«å»Š (éŠèˆ¹)</div>
        <div class="desc">ä¹˜åç•«èˆ«éŠè¦½çƒæ±Ÿç™¾é‡Œç•«å»Šã€‚</div>
    </div>
    <div class="card spot">
        <div class="name">ğŸ¯ èš©å°¤ä¹é»åŸ</div>
        <div class="desc">å±•ç¤ºè‹—æ—å‚³çµ±æ–‡åŒ–èˆ‡å»ºç¯‰ï¼Œä¹é»ç¥æŸ±ã€‚</div>
    </div>
    <div class="card spot">
        <div class="name">ğŸŒƒ æ´ªå´–æ´å¤œæ™¯ + åƒå»é–€å¤§æ©‹</div>
        <div class="desc">é­”å¹»å±±åŸå¤œæ™¯ï¼Œç¥ä¼¼ç¥éš±å°‘å¥³å ´æ™¯ã€‚</div>
        <a href="https://www.google.com/maps/search/?api=1&query=æ´ªå´–æ´" target="_blank" class="btn-map">ğŸ“ å°èˆª</a>
    </div>
    <div class="card meal">
        <div class="name">ğŸ² æ™šé¤ï¼šæ‡æ·åœ’ç«é‹ (120RMB)</div>
    </div>
    <div class="card hotel">
        <div class="name">ğŸ¨ é‡æ…¶ä¼Šå‡¡é…’åº— æˆ–åŒç´š</div>
    </div>
</div>

<div id="d5" class="content">
    <div class="card transport">
        <div class="name">ğŸšŒ å‰å¾€å¥‰ç¯€ (ç´„5å°æ™‚)</div>
    </div>
    <div class="card spot">
        <div class="name">ğŸï¸ ç™½å¸åŸ & ç¿å¡˜å³½</div>
        <div class="desc">è§€è³ã€Œå¤”é–€å¤©ä¸‹é›„ã€ï¼Œ10å…ƒäººæ°‘å¹£èƒŒæ™¯åœ–ã€‚</div>
        <a href="https://www.google.com/maps/search/?api=1&query=ç™½å¸åŸ" target="_blank" class="btn-map">ğŸ“ åœ°åœ–å°èˆª</a>
    </div>
    <div class="card meal">
        <div class="name">ğŸ½ï¸ åˆé¤ï¼šå·èœé¢¨å‘³ (50RMB)</div>
    </div>
    <div class="card hotel">
        <div class="name">ğŸ¨ å¥‰ç¯€æ­åº­é…’åº— æˆ–åŒç´š</div>
    </div>
</div>

<div id="d6" class="content">
    <div class="card spot">
        <div class="name">â›°ï¸ ä¸‰å³½ä¹‹å·”</div>
        <div class="desc">é•·æ±Ÿä¸‰å³½ç‰©ç†å½¢æ…‹æœ€é«˜è™•ï¼Œä¿¯ç°å…¨æ™¯ã€‚</div>
    </div>
    <div class="card spot">
        <div class="name">ğŸš¢ å·«å±±å°ä¸‰å³½ (éŠèˆ¹)</div>
        <div class="desc">éŠè¦½é¾é–€å³½ã€å·´éœ§å³½ã€æ»´ç¿ å³½ã€‚</div>
    </div>
    <div class="card meal">
        <div class="name">ğŸ½ï¸ é¤é£Ÿ</div>
        <div class="desc">åˆï¼šè¾²å®¶é¢¨å‘³ (50RMB)ï½œæ™šï¼šå·«å±±é¢¨å‘³ (50RMB)</div>
    </div>
    <div class="card hotel">
        <div class="name">ğŸ¨ å·«å±±å‡±å‰µæˆ´æ–¯é…’åº— æˆ–åŒç´š</div>
    </div>
</div>

<div id="d7" class="content">
    <div class="card transport">
        <div class="name">ğŸšŒ è¿”å›é‡æ…¶ (ç´„5.5å°æ™‚)</div>
    </div>
    <div class="card spot">
        <div class="name">ğŸš„ æå­å£©è¼•è»Œç«™</div>
        <div class="desc">ç¶²ç´…æ™¯é»ï¼šè¼•è»Œç©¿æ¨“è€Œéã€‚</div>
        <a href="https://www.google.com/maps/search/?api=1&query=æå­å£©è¼•è»Œç«™" target="_blank" class="btn-map">ğŸ“ å°èˆª</a>
    </div>
    <div class="card hotel">
        <div class="name">ğŸ¨ é‡æ…¶ä¼Šå‡¡é…’åº— æˆ–åŒç´š</div>
    </div>
</div>

<div id="d8" class="content">
    <div class="card spot">
        <div class="name">ğŸ¼ é‡æ…¶å‹•ç‰©åœ’</div>
        <div class="desc">çœ‹å¯æ„›å¤§ç†Šè²“ã€‚</div>
    </div>
    <div class="card spot">
        <div class="name">ğŸ™ï¸ é›²ç«¯ä¹‹çœ¼è§€æ™¯å°</div>
        <div class="desc">67æ¨“/72æ¨“ 360åº¦ä¿¯ç°é‡æ…¶å…¨æ™¯ã€‚</div>
    </div>
    <div class="card spot">
        <div class="name">ğŸš  é•·æ±Ÿç´¢é“ (å–®ç¨‹)</div>
        <div class="desc">é£›æ¸¡å¤§æ±Ÿï¼Œç©ºä¸­å…¬å…±æ±½è»Šã€‚</div>
    </div>
    <div class="card spot">
        <div class="name">ğŸº ç£å™¨å£å¤é®</div>
        <div class="desc">è€é‡æ…¶é¢¨å‘³ï¼Œé€›è¡—åƒç¾é£Ÿã€‚</div>
        <a href="https://www.google.com/maps/search/?api=1&query=ç£å™¨å£å¤é®" target="_blank" class="btn-map">ğŸ“ å°èˆª</a>
    </div>
    <div class="card meal">
        <div class="name">ğŸ½ï¸ ç‰¹è‰²æ™šé¤</div>
        <div class="desc">ç¦®å®´å·´åœ‹(å«è¡¨æ¼”) æˆ– å…‰ç’°ç¶ èŒ¶é¤å»³</div>
    </div>
</div>

<div id="d9" class="content">
    <div class="card">
        <div class="name">ğŸ‘‹ è‡ªç”±æ´»å‹• & è¿”ç¨‹</div>
        <div class="desc">äº«å—é£¯åº—è¨­æ–½æˆ–æœ€å¾Œæ¡è²·ã€‚</div>
    </div>
    <div class="card transport">
        <div class="name">ğŸ›« é‡æ…¶ â” æ¡ƒåœ’</div>
        <div class="desc">èˆªç­ï¼šCA-409 (15:20 - 18:20)</div>
    </div>
</div>

<div class="footer-note">
    Â© 2025 Travel Plan with Live Weather<br>Create by GitHub Pages
</div>

<script>
    // å„åœ°ç¶“ç·¯åº¦è¨­å®š
    const locations = {
        'chongqing': { name: 'ğŸ“ é‡æ…¶å¸‚ (Chongqing)', lat: 29.5628, lon: 106.5528 },
        'wulong':    { name: 'ğŸ“ æ­¦éš†å€ (Wulong)',    lat: 29.3255, lon: 107.7602 },
        'pengshui':  { name: 'ğŸ“ å½­æ°´ç¸£ (Pengshui)',  lat: 29.2946, lon: 108.1664 },
        'fengjie':   { name: 'ğŸ“ å¥‰ç¯€ç¸£ (Fengjie)',   lat: 31.0195, lon: 109.4673 },
        'wushan':    { name: 'ğŸ“ å·«å±±ç¸£ (Wushan)',    lat: 31.0743, lon: 109.8786 }
    };

    // å¤©æ°£ä»£ç¢¼è½‰æ›ç‚º Emoji
    function getWeatherIcon(code) {
        if (code <= 1) return 'â˜€ï¸';
        if (code <= 3) return 'â˜ï¸';
        if (code <= 48) return 'ğŸŒ«ï¸';
        if (code <= 67) return 'ğŸŒ§ï¸';
        if (code <= 77) return 'â„ï¸';
        if (code <= 82) return 'â›ˆï¸';
        return 'ğŸŒ¤ï¸';
    }

    // æŠ“å–å¤©æ°£å‡½å¼
    async function fetchWeather(locKey) {
        const loc = locations[locKey];
        const widgetTemp = document.getElementById('weatherTemp');
        const widgetLoc = document.getElementById('weatherLocName');
        const widgetIcon = document.getElementById('weatherIcon');

        widgetLoc.innerText = `æ­£åœ¨æ›´æ–° ${loc.name.split(' ')[1]} å¤©æ°£...`;
        
        try {
            const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${loc.lat}&longitude=${loc.lon}&current_weather=true`);
            const data = await response.json();
            
            const temp = data.current_weather.temperature;
            const code = data.current_weather.weathercode;

            widgetTemp.innerText = `${temp}Â°C`;
            widgetLoc.innerText = `${loc.name} å³æ™‚å¤©æ°£`;
            widgetIcon.innerText = getWeatherIcon(code);
        } catch (error) {
            widgetLoc.innerText = "å¤©æ°£æ›´æ–°å¤±æ•—";
        }
    }

    // åˆ‡æ›åˆ†é ä¸¦æ›´æ–°å¤©æ°£
    function switchTab(dayId, element, locKey) {
        document.querySelectorAll('.content').forEach(div => div.classList.remove('active'));
        document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
        
        document.getElementById(dayId).classList.add('active');
        element.classList.add('active');
        
        element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
        
        // æ›´æ–°è©²åœ°é»å¤©æ°£
        fetchWeather(locKey);
    }

    // é è¨­è¼‰å…¥ç¬¬ä¸€å¤© (é‡æ…¶) å¤©æ°£
    fetchWeather('chongqing');
</script>

</body>
</html>
